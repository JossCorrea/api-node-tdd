if (self.CavalryLogger) { CavalryLogger.start_js(["Scr2F"]); }

__d("CometNewsFeedVPVDStore_newsFeedEdge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"InlineDataFragment",name:"CometNewsFeedVPVDStore_newsFeedEdge"};e.exports=a}),null);
__d("CometInteractionSourceContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=a.createContext(10);e.exports=c}),null);
__d("CometNewsFeedVPVDStore",["CircularBuffer","CometRelay","React","emptyFunction","CometNewsFeedVPVDStore_newsFeedEdge.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").readInlineData,i=b("React");c=b("React");var j=c.useCallback,k=c.useContext;d=function(){var a=new(b("CircularBuffer"))(50);return{readRecentVPVDs:function(){var b=a.read();a.clear();return b},writeRecentVPVD:function(c,d){var e=h(g!==void 0?g:g=b("CometNewsFeedVPVDStore_newsFeedEdge.graphql"),c);c=a.read().find(function(a){var b;a=a.vsid;return(e==null?void 0:(b=e.feed_backend_data)==null?void 0:b.vsid)===a});if(c)return;a.write({evt:"vpv",fetch_tracking:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.should_recent_vpv_fetch_tracking_data,original_qid:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.original_qid,qid:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.qid,timestamp:d,vsid:e==null?void 0:(c=e.feed_backend_data)==null?void 0:c.vsid,vspos:e==null?void 0:(d=e.feed_backend_data)==null?void 0:d.vspos})}}};var l=i.createContext(),m=i.createContext(b("emptyFunction"));function a(a){var b=a.children,c=a.newsFeedEdge,d=k(l);a=j(function(a){d&&d.writeRecentVPVD(c,a)},[c,d]);return i.jsx(m.Provider,{value:a,children:b})}e.exports={LoggerContext:m,LoggerProvider:a,StoreProvider:l.Provider,createStore:d}}),null);
__d("CometUserActivityMonitor",["ErrorGuard","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility","clearTimeout","gkx","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g,h=[],i,j=!1,k=b("ExecutionEnvironment").canUseDOM&&b("UserActivity").isOnTab()&&b("UserActivity").isActive(b("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",l=[],m;function n(a){j=!0;l.push.apply(l,h);var c=function(){var c=l.shift();(g||(g=b("ErrorGuard"))).applyWithGuard(function(){return c(a)},null,[],{name:"CometUserActivityMonitor"})};while(l.length)c();j=!1}function o(){if(b("gkx")("1345328"))return;var a=Math.max(0,b("UFI2UserActivityIdleTimeout")-(Date.now()-b("UserActivity").getLastActive()));b("clearTimeout")(i);a>0&&(i=b("setTimeoutAcrossTransitions")(function(){p("INACTIVE")},a))}function p(a){var b=k;k=a;b!==a&&n(a)}a={getActivityState:function(){return k},init:function(){m==null&&(o(),m=new(b("SubscriptionsHandler"))(),m.addSubscriptions(b("UserActivity").subscribe(function(a,c){a=c.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&b("UserActivity").isOnTab()===!1)return;p("ACTIVE");o()}),function(){var a=function(){p("INACTIVE"),b("clearTimeout")(i)};window.addEventListener("blur",a,{passive:!0});return{remove:function(){return window.removeEventListener(a,{passive:!0})}}}(),b("Visibility").addListener(b("Visibility").HIDDEN,function(){p("INACTIVE"),b("clearTimeout")(i)})))},subscribe:function(a){h.push(a);j&&l.push(a);var c=!1;return{remove:function(){if(c)return;var d=h.indexOf(a);d!==-1&&h.splice(d,1);if(j){d=l.indexOf(a);d!==-1&&l.splice(d,1)}h.length===0&&b("clearTimeout")(i);c=!0}}}};b("ExecutionEnvironment").canUseDOM&&a.init();e.exports=a}),null);
__d("CometVPVDUserActivityMonitor",["CometUserActivityMonitor"],(function(a,b,c,d,e,f){"use strict";a={isUserActive:function(){return b("CometUserActivityMonitor").getActivityState()==="ACTIVE"},subscribe:function(a){var c=b("CometUserActivityMonitor").subscribe(function(b){b=b==="ACTIVE";a&&a(b)});return function(){c&&c.remove()}}};e.exports=a}),null);
__d("useVPVDImpression",["requireCond","CometVPVDUserActivityMonitor","React","isIntersectionObserverEntryVPVDVisible","useVisibilityObserver","cr:921407"],(function(a,b,c,d,e,f){"use strict";a=b("React");var g=a.useCallback,h=250,i=200;c=function(a){var c=a.isLite,d=a.minVisiblePx;d=d===void 0?i:d;var e=a.minVisibleTimeMs,f=e===void 0?h:e,j=a.onVPVDEnd;e=a.onVPVDStart;a=b("cr:921407")();var k=a[0];a=a[1];var l=g(function(a){if(a.visibleDuration<f)return;j(a)},[f,j]),m=c===!0?1:d;d=g(function(a){return b("isIntersectionObserverEntryVPVDVisible")(a,m)},[m]);c=c===!0?null:{thresholdOverride:"EXPENSIVE"};d=babelHelpers["extends"]({activityMonitorOverride:b("CometVPVDUserActivityMonitor"),hiddenWhenCSSStyleHidden:!0,hiddenWhenZeroArea:!0,isEntryInViewport:d},c);c=b("useVisibilityObserver")({onHidden:l,onVisibilityDurationUpdated:a,onVisible:e,options:d});return[c,k]};e.exports=c}),null);
__d("InteractionSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TOP_NEWS:0,FRIEND_LIST:1,TICKER:2,TIMELINE:3,GROUPS:4,APPS_AND_GAMES:5,PHOTOS:6,LINKS:7,PERMALINK:8,LOCKFEED:9,UNKNOWN_INTERACTION_SOURCE:10,COMMENT_POPOVER:11,VPV_FORCED:12,BEST_FEED:13,UNSEEN_FEED:14,PIVOTS:15,SHARED_OBJECT:16,PAPER:17,NOTIFICATIONS:18,RECENT_VPVS_GRAPHQL_FILTER:19,EXPLORE_FEED:20,PAGE_STORIES_YOU_MISSED:21,REDSPACE:22,VH_LIVE:23,GROUP_TOP_STORIES:24,GROUPS_INBOX:25,COMMENT_VPVD:26,PAGES:27,VIDEO_FULLSCREEN_PLAYER:28,VIDEO_HOME:29,RECENT_COMMENT_VPV:30,PHOTOS_PREVIEW:31,SEEN_FEED:32,MEMORIES_HOME:33,CUSTOM_FEED:34,SNOWFLAKE:35,FB_STORIES:36,SNOWFLAKE_MEDIAS:37,PHOTOS_PREVIEW_UNDER_SHARED_OBJECT:38,QUICK_PROMOTION_OBJECT:39,LASSO:40,SEARCH_VOYAGER:41,BUSINESS_FEED:42,CRS:43,PAGE_VIDEO_THUMBNAIL:44,VIDEO_CATALOG_THUMBNAIL:45,MESSENGER_VIDEO:46,PERMALINK_OR_PHOTO_CHAINING:47,FB_STORIES_BUCKET:48,TAO_WATCHED_VIDEOS:49,TAO_WATCHED_SHOW_VIDEOS_WITH_POSITION:50,TAO_EVER_WATCHED_SHOW_VIDEOS:51,GAMES_FEED:52,GROUPS_TAB:53,VIDEO_CHAINING:54,END_OF_FEED:55,CRISIS_PAGE:56,SHOWCASE_OBJECT:57,SHOWCASE_UNIT:58,TAHOE_ENDSCREEN_SUGGESTED_VIDEOS:59,FRIEND_DEEP_DIVE:60,IFR_DEEP_DIVE:61,FRIENDS_HOME_DIVE:62,MOST_RECENT_FEED:63,FAN_SUBSCRIPTIONS_EXCLUSIVE_CONTENT_FEED:64,SFV_SHORTS:65,FAVORITES_FEED:66,MAX_INTERACTION_SOURCE:67})}),null);
__d("useStoryVPVDLogger",["requireDeferred","CometInteractionSourceContext","CometNewsFeedVPVDStore","InteractionSource","React","WebSession","gkx","useVPVDImpression"],(function(a,b,c,d,e,f){"use strict";var g=b("requireDeferred")("Banzai");c=b("React");var h=c.useCallback,i=c.useContext,j=c.useRef,k=Object.keys(b("InteractionSource")).reduce(function(a,c){a[b("InteractionSource")[c]]=c;return a},{}),l=function(a){var c;return{csp:a.position,is_agg:a.isAggregated,is_agg_sub:a.isAggregatedSubStory,is_self:a.isSelfPost,logged_before:a.loggedBefore,sid_raw:b("WebSession").getId(),source:a.source,source_override:a.source_override,story_height:a.story_height,story_width:a.story_width,storyId:a.id,vpvd_start_timestamp_ms:a.visibleTime,vpvd_time_delta_ms:a.hiddenTime-((c=a.visibleTime)!=null?c:0),xt:a.encrypted_tracking}};function a(a){var c=a.interactionSourceOverride,d=a.isAggregated,e=d===void 0?null:d;d=a.isAggregatedSubStory;var f=d===void 0?null:d;d=a.isSelfPost;var m=d===void 0?null:d,n=a.position,o=a.trackable,p=i(b("CometInteractionSourceContext"));a=k[(d=c)!=null?d:p];var q="STORYID-"+n+"-"+a+"-"+(o||"").slice(0,15),r=i(b("CometNewsFeedVPVDStore").LoggerContext),s=j(null),t=j(null),u=j(!1);d=h(function(a){var b=a.entry;a=a.visibleTime;r(a);s.current=(a=b==null?void 0:(a=b.boundingClientRect)==null?void 0:a.height)!=null?a:null;t.current=(b=b==null?void 0:(a=b.boundingClientRect)==null?void 0:a.width)!=null?b:null},[r]);a=h(function(a){var b,d=a.hiddenTime;a=a.visibleTime;var h=s.current!=null?Math.round(s.current):null,i=t.current!=null?Math.round(t.current):null,j=l({encrypted_tracking:(b=o)!=null?b:"",hiddenTime:d,id:q,isAggregated:e,isAggregatedSubStory:f,isSelfPost:m,loggedBefore:u.current,position:n,source:p,source_override:c,story_height:h,story_width:i,visibleTime:a});u.current=!0;g.onReady(function(a){a.post("comet_metrics:vpvd",j)})},[o,q,e,f,m,n,p,c]);return b("useVPVDImpression")({onVPVDEnd:a,onVPVDStart:d})}e.exports=a}),null);